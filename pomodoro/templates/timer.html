{% extends "base.html" %}
{% block title %}Pomodoro Timer{% endblock %}
{% block styles %}
    {{ super() }} <!-- This includes the base template's styles first -->
    <link href="{{ url_for('pomodoro.static', filename='css/timer.css') }}" rel="stylesheet">
{% endblock %}

{% block bodyClass %}work{% endblock %}
{% block content %}
    {{ super() }} <!-- Include default content from base -->
    
    <div class="timerPage container-fluid main-content">
        <!-- user note -->
        <div class="alert alert-info" id="userNote" role="alert">
            <h4 class="alert-heading">Please Keep Your Sound On</h4>
            <hr>
            <p class="mb-0">To ensure you hear the notification sounds signaling the start of work and break sessions, please keep your volume turned up or use headphones.</p>
        </div>

       <div class="timer">
            <div class="timerOuter work">
                <div class="timerInner work">
                    25:00
                </div>
            </div>
       </div>

       <div class="timerBtn">
        <div class="btnContent">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
                <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"/>
            </svg>
        </div>
       </div>

       <div class="resetBtnContainer">
        <div id="resetBtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
            </svg>
            RESET
        </div>
       </div>
    </div>   

    <script>
        var workSound = new Audio("{{ url_for('pomodoro.static', filename='audio/work.mp3') }}");
        var breakSound = new Audio("{{ url_for('pomodoro.static', filename='audio/break.mp3') }}");
        var finishSound = new Audio("{{ url_for('pomodoro.static', filename='audio/finish.mp3') }}");
        var congratsSound = new Audio("{{ url_for('pomodoro.static', filename='audio/firework.mp3') }}");
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles"></script>
    <script src="{{ url_for('pomodoro.static', filename='js/timer.js') }}"></script>
{% endblock %}